## Transaction

### 🛠Transaction(트랜잭션)이란?

트랜잭션은 Database의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업 단위나 한번에 수행되어야 할 일련의 연산을 의미한다.

### 🔗Transaction(트랜잭션)의 특징

트랜잭션의 특징으로는 <br>
첫째, Database 시스템에서 병행제어 및 회복 작업이 수행될 때 처리되는 작업의 논리 이며,<br>
둘째, 사용자가 어떠한 시스템에 서비스를 요청할 때 시스템이 응답하기 위한 상태 변환 과정의 작업단위이고, <br>
셋째, 각 트랜잭션은 Commit, Rollback 되어야 한다.

여기서 Commit 연산은 하나의 논리적인 단위인 트랜잭션에 대한 작업이 성공적으로 끝났으며, Database가 일관된 상태로 있을때 트랜잭션이 정상적으로 연산이 완료 끝났음을 알려주는 것이고, <br>
Rollback 연산은 하나의 트랜잭션 처리가 오류등으로 비정상적으로 종료되서 Database의 일관성을 깨트릴경우에, 이 트랜잭션의 일부가 정상적으로 처리되었더라도 트랜잭션의 원자성을 보장하기 위해 모든 연산을 취소하라는 것이다. 이후 취소된 연산을 재시작할 수도 있고, 폐기할 수도 있다.

### 📌Transaction(트랜잭션)의 4가지 성질

트랜잭션의 성질은 ACID 라고 하는 4가지 성질을 가진다.

1. Atomicity (원자성)<br>
트랜잭션의 연산은 Database에 모두 반영이 되든(Commit) 전혀 반영이 안되던(Rollback) 해야한다. 트랜잭션 안에서의 모든명령은 완벽하게 수행되어야 하고, 만약에 이 과정에서 작은 오류가 발생하면 트랜잭션은 전부 작업이 취소 되어야 한다.

2. Consistency (일관성)<br>
트랜잭션이 진행되는 동안에 데이터베이스가 변경되더라도 업데이트 된 데이터베이스로 트랜잭션이 진행되는게 아니라, 처음에 트랜잭션을 진행 하기 위해 참조한 데이터 베이스로 진행된다. 이렇게 함으로써 각 사용자는 일관성 있는 데이터를 볼 수 있는것이다.

3. Isolation (격리성)<br>
어떤 트랜잭션이 실행되고 있을때 다른 트랜잭션의 연산이 끼어들 수는 없다. 그리고 다른 트랜잭션이 수행중인 트랜잭션의 결과를 참조하기 위해서는 수행중인 트랜잭션이 완전히 완료될 때 까지 기다려야 한다.

4. Durability (지속성, 영속성)<br>
성공적으로 완료된 트랜잭션은 시스템이 고장나도 영구적으로 반영되어 있어야 한다.


### 🚳Transaction(트랜잭션)의 상태

![image](https://user-images.githubusercontent.com/82089918/166131536-5426219d-0d0e-4d23-952c-4753b116f9b8.png)

- Active : 트랜잭션이 활동 즉 실행 중인 상태
- Partially Committed : 트랜잭션이 끝나고, Commit이 실행되기 직전인 상태
- Committd : 트랜잭션이 성공적으로 끝나고, Commit 연산을 수행한 후의 상태
- Failed : 트랜잭션 실행시 오류 발생으로 인해 트랜잭션이 중단된 상태
- Aborted : 트랜잭션 비정상 종료후 Rollback 연산 수행한 상태

